---
title: '#USL_P1_477001'
output: html_document
date: "2025-12-20"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# USL Project 1 
Expected output is to do a choose athe most suitable clustering method, do the cluestering and then forecasting. 

```{r setup, include=FALSE}
# Install missing library on local machine
install.packages("NbClust")
# Load other necessary and already installed libraries
library(tidyverse)
library(cluster)    # For PAM and basic clustering
library(factoextra) # For clustering visualizations
library(NbClust)    # For determining the optimal number of clusters
```

# 1. Exploratory Data Analysis (EDA)

Before applying unsupervised learning algorithms, we must open the "black box" and perform a rigorous inspection of the raw data. A "good" data scientist verifies the ranges, central tendencies, and extremes to detect potential errors or influential outliers.

```{r load data, include=TRUE}
# Load the energy data
energy_data <- read.csv("per-capita-energy-stacked.csv", stringsAsFactors = FALSE)

# Basic structure overview
head(energy_data)
dim(energy_data) # 6585 rows, 11 columns
str(energy_data) 
```

```{r EDA, include=TRUE}
# Check min and max values for years
min_year <- min(energy_data$Year, na.rm = TRUE)
max_year <- max(energy_data$Year, na.rm = TRUE)
cat("Year range:", min_year, "to", max_year, "\n")

# Full year distribution
table(energy_data$Year)

# Years with data by country count
year_counts <- energy_data %>%
  group_by(Year) %>%
  summarise(n_countries = n_distinct(Entity), .groups = 'drop') %>%
  arrange(desc(n_countries))

print(year_counts)
```
Interpretation: 
There are only 94 for the starting year 1969 and already 119 countries in 2024. 


